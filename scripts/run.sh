#!/bin/sh

set -e          #â†’ (ğ–¨ğ–¿ ğ–¿ğ–ºğ—‚ğ—…ğ—Œ ğ–ºğ—‡ğ—’ ğ–¼ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½ğ—Œ ğ–ºğ–¿ğ—ğ–¾ğ—‹, ğ—ğ—ğ—ˆğ—…ğ–¾ ğ—Œğ–¼ğ—‹ğ—‚ğ—‰ğ— ğ–¿ğ–ºğ—‚ğ—…ğ—Œ)

python manage.py wait_for_db                 #â†’ (ğ–¯ğ—‹ğ–¾ğ—‰ğ–ºğ—‹ğ–¾ ğ–¿ğ—‚ğ—‹ğ—Œğ— ğ—ğ—ğ–¾ ğ–£ğ–¡)
python manage.py collectstatic --noinput     #â†’ (ğ–¢ğ—ˆğ—…ğ—…ğ–¾ğ–¼ğ— ğ–ºğ—…ğ—… ğ—Œğ—ğ–ºğ–¼ğ—ğ—‚ğ–¼ ğ–¿ğ—‚ğ—…ğ–¾ğ—Œ ğ–ºğ—‡ğ–½ ğ—†ğ–ºğ—„ğ–¾ ğ–ºğ–¼ğ–¼ğ–¾ğ—Œğ—Œğ—‚ğ–»ğ—…ğ–¾ ğ–»ğ—’ ğ—»ğ—´ğ—¶ğ—»ğ˜…)
python manage.py migrate					 #â†’ (ğ–³ğ—ˆ ğ–¾ğ—‡ğ—Œğ—ğ—‹ğ–¾ ğ–ºğ—…ğ—… ğ—†ğ—‚ğ—€ğ—‹ğ–ºğ—ğ—‚ğ—ˆğ—‡ğ—Œ ğ–ºğ—‹ğ–¾ ğ–ºğ—‰ğ—‰ğ—…ğ—‚ğ–¾ğ–½)

uwsgi --socket :9000 --workers 4 --master --enable-threads --module app.wsgi
        #â†’ (ğ– ğ—‰ğ—‰: ğ—ğ–¶ğ–²ğ–¦ğ–¨, ğ–³ğ–¢ğ–¯ ğ–¯ğ—ˆğ—‹ğ—: ğŸ«ğŸ¢ğŸ¢ğŸ¢, ğŸ¦ ğ–¼ğ—‰ğ— (ğ—ğ—ˆğ—‹ğ—„ğ–¾ğ—‹ğ—Œ), ğ—†ğ–ºğ—‚ğ—‡ ğ—Œğ–¾ğ—‹ğ—ğ–¾ğ—‹ ğ—‹ğ—ğ—‡ ğ–ºğ—‰ğ—‰ ğ–¬ğ—ˆğ–½ğ—ğ—…ğ–¾ ğ—ğ—ˆ ğ—‹ğ—ğ—‡)